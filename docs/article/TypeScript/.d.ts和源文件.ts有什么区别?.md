# .d.ts和源文件.ts有什么区别?

## 问题
.ts和.d.ts这两个文件有什么不一样？
在网上查过，.d.ts是对自己写的JS文件进行类型定义的
那是不是可以认为想要在TS中使用JS文件里面的方法，就一定要写.d.ts这个定义呢？
如果你是直接写.ts的，就不用写.d.ts这个文件呢？

## 解答

### 1. 答

.d.ts就是TypeDefinition类型定义文件，用来定义类型信息以及接口规范
想要在ts使用js里面的方法，不一定要有类型定义
但如果没有类型定义文件，你在编码的过程中，编辑器不会给你方法的提示，你想找API的时候也没有对应的文档

如果想用早期的JS Library，是没有类型定义信息的，这个时候为了使用方便我们就需要创建一个对应的.d.ts文件

### 2. 答

.ts表示你的代码就是用ts写的
但这种代码最后会编译成.js的js代码供他人使用。这个时候，类型信息就丢失了。所以 ts 编译器会自动根据 .ts 中的信息，生成对外的 .d.ts 文件，和生成的 js 文件搭配使用。其中，js 文件是给运行引擎用的，而 .d.ts 文件是给 IDE（智能编辑器）写代码时参考用的。

另一种情况是，你的代码不是用 ts 写的，只是希望最后给别人用时能有类型信息作为辅助，那么这种情况下的 .d.ts 文件就需要你手写了

### .ts文件生成.d.ts文件和.js文件

全局安装tsc命令，执行

```
tsc --declaration service.ts
```

### .js文件生成.d.ts文件

```
npm i dtsmake -g
npm i tern --save-dev
dtsmake -s filename.js
```
